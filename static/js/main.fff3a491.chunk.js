(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(247)},201:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(50),i=a(27),c=a(30),s=a(6),u=a(7),l=a(106),p=a(250),m=a(75),d=a(31),h=a.n(d),f=a(54),b=a(107),g=a.n(b).a.create({baseURL:"https://simple-plant-api.herokuapp.com/",headers:{"Content-Type":"application/json"}}),v={authenticated:"",errorMessage:""},E=Object(s.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER":return Object(m.a)({},e,{authenticated:t.payload});case"AUTH_ERROR":return Object(m.a)({},e,{errorMessage:t.payload});default:return e}},plants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PLANTS_VIEW":return t.payload;default:return e}},form:p.a,comments:function(){return"1st"},users:function(){return"Joe"}}),y=a(10),O=a(11),j=a(13),N=a(12),k=a(14),w=(a(201),function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"renderLinks",value:function(){return this.props.authenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{className:"item",to:"/signout"},"Sign Out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{className:"item",to:"/signup"},"Sign Up"),r.a.createElement(i.b,{className:"item",to:"/signin"},"Sign In"))}},{key:"render",value:function(){return r.a.createElement("div",{id:"header",className:"ui secondary menu"},r.a.createElement("div",{className:" plant-list"},r.a.createElement(i.b,{className:"item ",to:"/plants"},"Big Plant"),r.a.createElement(i.b,{className:"item",to:"/about"},"About")),this.renderLinks())}}]),t}(n.Component)),S=Object(u.b)(function(e){return{authenticated:e.auth.authenticated}})(w),x=(a(207),function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth&&this.props.history.push("/plants")}},{key:"render",value:function(){return r.a.createElement("div",{id:"landing",className:"ui container"},r.a.createElement("div",{className:"ui placeholder segment"},r.a.createElement("h3",{className:"ui header"},"Please sign up or sign in")))}}]),t}(n.Component)),A=Object(u.b)(function(e){return{auth:e.auth.authenticated}})(x),U=(a(208),a(249)),M=a(248),P=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.signup(e,function(){a.props.history.push("/plants")})},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"renderError",value:function(){if(this.props.errorMessage)return r.a.createElement("div",{className:"ui negative message"},this.props.errorMessage)}},{key:"render",value:function(){var e=this.props.handleSubmit;return r.a.createElement("div",{className:"ui container"},r.a.createElement("form",{className:"ui form",onSubmit:e(this.onSubmit)},r.a.createElement("fieldset",{className:"field"},r.a.createElement("label",null,"Email"),r.a.createElement(U.a,{name:"email",type:"text",component:"input",autoComplete:"none"})),r.a.createElement("fieldset",{className:"field"},r.a.createElement("label",null,"Password"),r.a.createElement(U.a,{name:"password",type:"password",component:"input",autoComplete:"none"})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Name"),r.a.createElement(U.a,{name:"name",type:"text",component:"input"})),this.renderError(),r.a.createElement("button",{className:"ui button"},"Sign Up")))}}]),t}(n.Component),R=Object(s.d)(Object(u.b)(function(e){return{errorMessage:e.auth.errorMessage}},{signup:function(e,t){return function(){var a=Object(f.a)(h.a.mark(function a(n){var r,o;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.post("/signup",e);case 3:r=a.sent,o=r.data.token,n({type:"AUTH_USER",payload:o}),localStorage.setItem("token",o),t(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),n({type:"AUTH_ERROR",payload:"Oops! Something went horribly wrong"});case 14:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}}),Object(M.a)({form:"signup"}))(P),C=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.signin(e,function(){a.props.history.push("/plants")})},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"renderError",value:function(){if(this.props.errorMessage)return r.a.createElement("div",{className:"ui negative message"},this.props.errorMessage)}},{key:"render",value:function(){var e=this.props.handleSubmit;return r.a.createElement("div",{className:"ui container"},r.a.createElement("form",{className:"ui form",onSubmit:e(this.onSubmit)},r.a.createElement("fieldset",{className:"field"},r.a.createElement("label",null,"Email"),r.a.createElement(U.a,{name:"email",type:"text",component:"input",autoComplete:"none"})),r.a.createElement("fieldset",{className:"field"},r.a.createElement("label",null,"Password"),r.a.createElement(U.a,{name:"password",type:"password",component:"input",autoComplete:"none"})),this.renderError(),r.a.createElement("button",{className:"ui button"},"Sign In")))}}]),t}(n.Component),T=Object(s.d)(Object(u.b)(function(e){return{errorMessage:e.auth.errorMessage}},{signin:function(e,t){return function(){var a=Object(f.a)(h.a.mark(function a(n){var r,o;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.post("/signin",e);case 3:r=a.sent,o=r.data.token,n({type:"AUTH_USER",payload:o}),localStorage.setItem("token",o),t(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),n({type:"AUTH_ERROR",payload:"Oops! Something went horribly wrong"});case 14:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}}),Object(M.a)({form:"signin"}))(C),_=function(e){var t=function(t){function a(){return Object(y.a)(this,a),Object(j.a)(this,Object(N.a)(a).apply(this,arguments))}return Object(k.a)(a,t),Object(O.a)(a,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth||this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(n.Component);return Object(u.b)(function(e){return{auth:e.auth.authenticated}})(t)},I=function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.props.signout(),this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,"You're logged out")}}]),t}(n.Component),D=Object(u.b)(null,{signout:function(){return localStorage.removeItem("token"),{type:"AUTH_USER",payload:""}}})(_(I)),H=(a(246),function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPlants()}},{key:"renderPlants",value:function(){return this.props.plants?this.props.plants.map(function(e){return r.a.createElement("div",{className:"ui card",key:e._id},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:e.image})),r.a.createElement("div",{className:"content"},r.a.createElement("a",{className:"header"},e.name),r.a.createElement("div",{className:"description"},e.description)))}):r.a.createElement("div",{className:"ui segment loader-segment"},r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui medium text loader"},"Loading Events from API...")))}},{key:"render",value:function(){return r.a.createElement("div",{id:"plant-list",className:"ui container flex"},this.renderPlants())}}]),t}(n.Component)),L=Object(u.b)(function(e){return{plants:e.plants}},{fetchPlants:function(){return function(){var e=Object(f.a)(h.a.mark(function e(t,a){var n,r,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.authenticated,e.next=3,g.get("/api/plants",{headers:{authorization:n}});case 3:r=e.sent,o=r.data,console.log("data ",o),t({type:"UPDATE_PLANTS_VIEW",payload:o});case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}})(_(H)),q=Object(s.e)(E,{auth:{authenticated:localStorage.getItem("token")}},Object(s.a)(l.a));Object(o.render)(r.a.createElement(u.a,{store:q},r.a.createElement(i.a,{basename:"/plant-app"},r.a.createElement(function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(S,null),t)},null,r.a.createElement(c.a,{path:"/",exact:!0,component:A}),r.a.createElement(c.a,{path:"/about",exact:!0,component:function(){return r.a.createElement("div",{id:"about",className:"ui container segment"},r.a.createElement("h3",{className:"ui header"},"Big Plant app"),r.a.createElement("div",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quis facere explicabo porro debitis odit, molestiae totam quam delectus adipisci quo fuga repellat, dignissimos atque vero. Voluptate totam suscipit iusto commodi!"))}}),r.a.createElement(c.a,{path:"/signup",exact:!0,component:R}),r.a.createElement(c.a,{path:"/signin",exact:!0,component:T}),r.a.createElement(c.a,{path:"/signout",exact:!0,component:D}),r.a.createElement(c.a,{path:"/plants",exact:!0,component:L})))),document.querySelector("#root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.fff3a491.chunk.js.map