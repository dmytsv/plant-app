(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(247)},201:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(51),i=a(28),s=a(31),o=a(6),l=a(7),u=a(106),m=a(250),p=a(75),d=a(24),h=a.n(d),f=a(41),v=a(107),b=a.n(v).a.create({baseURL:"https://simple-plant-api.herokuapp.com/",headers:{"Content-Type":"application/json"}}),E={authenticated:"",errorMessage:""},g=Object(o.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER":return Object(p.a)({},e,{authenticated:t.payload});case"AUTH_ERROR":return Object(p.a)({},e,{errorMessage:t.payload});default:return e}},plants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PLANTS_VIEW":return t.payload;default:return e}},singlePlant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SINGLE_PLANT_VIEW":return t.payload;default:return e}},form:m.a,comments:function(){return"1st"},users:function(){return"Joe"}}),y=a(9),O=a(10),j=a(12),N=a(11),k=a(13),w=(a(201),function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"renderLinks",value:function(){return this.props.authenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{className:"item",to:"/signout"},"Sign Out")):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{className:"item",to:"/signup"},"Sign Up"),r.a.createElement(i.b,{className:"item",to:"/signin"},"Sign In"))}},{key:"render",value:function(){return r.a.createElement("div",{id:"header",className:"ui secondary menu"},r.a.createElement("div",{className:" plant-list"},r.a.createElement(i.b,{className:"item ",to:"/plants"},"Big Plant"),r.a.createElement(i.b,{className:"item",to:"/about"},"About")),this.renderLinks())}}]),t}(n.Component)),S=Object(l.b)(function(e){return{authenticated:e.auth.authenticated}})(w),x=(a(207),function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth&&this.props.history.push("/plants")}},{key:"render",value:function(){return r.a.createElement("div",{id:"landing",className:"ui container"},r.a.createElement("div",{className:"ui placeholder segment"},r.a.createElement("h3",{className:"ui header"},"Please sign up or sign in")))}}]),t}(n.Component)),A=Object(l.b)(function(e){return{auth:e.auth.authenticated}})(x),P=(a(208),a(249)),U=a(248),_=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.signup(e,function(){a.props.history.push("/plants")})},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"renderError",value:function(){if(this.props.errorMessage)return r.a.createElement("div",{className:"ui negative message"},this.props.errorMessage)}},{key:"render",value:function(){var e=this.props.handleSubmit;return r.a.createElement("div",{className:"ui container"},r.a.createElement("form",{className:"ui form",onSubmit:e(this.onSubmit)},r.a.createElement("fieldset",{className:"field"},r.a.createElement("label",null,"Email"),r.a.createElement(P.a,{name:"email",type:"text",component:"input",autoComplete:"none"})),r.a.createElement("fieldset",{className:"field"},r.a.createElement("label",null,"Password"),r.a.createElement(P.a,{name:"password",type:"password",component:"input",autoComplete:"none"})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Name"),r.a.createElement(P.a,{name:"name",type:"text",component:"input"})),this.renderError(),r.a.createElement("button",{className:"ui button"},"Sign Up")))}}]),t}(n.Component),C=Object(o.d)(Object(l.b)(function(e){return{errorMessage:e.auth.errorMessage}},{signup:function(e,t){return function(){var a=Object(f.a)(h.a.mark(function a(n){var r,c;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.post("/signup",e);case 3:r=a.sent,c=r.data.token,n({type:"AUTH_USER",payload:c}),localStorage.setItem("token",c),t(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),n({type:"AUTH_ERROR",payload:"Oops! Something went horribly wrong"});case 14:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}}),Object(U.a)({form:"signup"}))(_),T=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.signin(e,function(){a.props.history.push("/plants")})},a}return Object(k.a)(t,e),Object(O.a)(t,[{key:"renderError",value:function(){if(this.props.errorMessage)return r.a.createElement("div",{className:"ui negative message"},this.props.errorMessage)}},{key:"render",value:function(){var e=this.props.handleSubmit;return r.a.createElement("div",{className:"ui container"},r.a.createElement("form",{className:"ui form",onSubmit:e(this.onSubmit)},r.a.createElement("fieldset",{className:"field"},r.a.createElement("label",null,"Email"),r.a.createElement(P.a,{name:"email",type:"text",component:"input",autoComplete:"none"})),r.a.createElement("fieldset",{className:"field"},r.a.createElement("label",null,"Password"),r.a.createElement(P.a,{name:"password",type:"password",component:"input",autoComplete:"none"})),this.renderError(),r.a.createElement("button",{className:"ui button"},"Sign In")))}}]),t}(n.Component),M=Object(o.d)(Object(l.b)(function(e){return{errorMessage:e.auth.errorMessage}},{signin:function(e,t){return function(){var a=Object(f.a)(h.a.mark(function a(n){var r,c;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,b.post("/signin",e);case 3:r=a.sent,c=r.data.token,n({type:"AUTH_USER",payload:c}),localStorage.setItem("token",c),t(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),n({type:"AUTH_ERROR",payload:"Oops! Something went horribly wrong"});case 14:case"end":return a.stop()}},a,null,[[0,10]])}));return function(e){return a.apply(this,arguments)}}()}}),Object(U.a)({form:"signin"}))(T),I=function(e){var t=function(t){function a(){return Object(y.a)(this,a),Object(j.a)(this,Object(N.a)(a).apply(this,arguments))}return Object(k.a)(a,t),Object(O.a)(a,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth||this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(n.Component);return Object(l.b)(function(e){return{auth:e.auth.authenticated}})(t)},R=function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.props.signout(),this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,"You're logged out")}}]),t}(n.Component),L=Object(l.b)(null,{signout:function(){return localStorage.removeItem("token"),{type:"AUTH_USER",payload:""}}})(I(R)),D=(a(246),function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPlants()}},{key:"renderPlants",value:function(){var e=this;return this.props.plants?this.props.plants.map(function(t){return r.a.createElement("div",{className:"ui card",key:t._id,onClick:function(){return e.props.history.push("/plants/".concat(t._id))}},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:t.image,alt:t.name})),r.a.createElement("div",{"data-before":t.users.length?"Liked by ".concat(t.users.length," users"):"Be first one to like!",className:"content"},r.a.createElement("h3",{className:"header"},t.name),r.a.createElement("div",{className:"description"},t.description)))}):r.a.createElement("div",{className:"ui segment loader-segment"},r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui medium text loader"},"Loading Events from API...")))}},{key:"render",value:function(){return r.a.createElement("div",{id:"plant-list",className:"ui container flex"},this.renderPlants())}}]),t}(n.Component)),H=Object(l.b)(function(e){return{plants:e.plants}},{fetchPlants:function(){return function(){var e=Object(f.a)(h.a.mark(function e(t,a){var n,r,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.authenticated,e.next=3,b.get("/api/plants",{headers:{authorization:n}});case 3:r=e.sent,c=r.data,console.log("data ",c),t({type:"UPDATE_PLANTS_VIEW",payload:c});case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}})(D),V=function(e){function t(){return Object(y.a)(this,t),Object(j.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchPlant(e)}},{key:"renderComments",value:function(e){return e&&e.length?r.a.createElement("div",{className:"ui relaxed divided list"},e.map(function(e){return r.a.createElement("div",{className:"item",key:e._id},r.a.createElement("div",{className:"content"},r.a.createElement("h4",{className:"header"},e.text),r.a.createElement("div",{className:"description"},e.createdAt)))})):r.a.createElement("div",null,"No comments to show yet..")}},{key:"render",value:function(){var e=this.props.singlePlant;if(!e)return r.a.createElement("div",{className:"ui segment loader-segment"},r.a.createElement("div",{className:"ui active inverted dimmer"},r.a.createElement("div",{className:"ui medium text loader"},"Loading Events from API...")));var t=e.plant,a=t.image,n=t.name,c=t.description,i=e.comments;return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui card"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:a,alt:n})),r.a.createElement("div",{className:"content"},r.a.createElement("h3",{className:"header"},n),r.a.createElement("div",{className:"description"},c))),this.renderComments(i))}}]),t}(n.Component),q=Object(l.b)(function(e){return{singlePlant:e.singlePlant}},{fetchPlant:function(e){return function(){var t=Object(f.a)(h.a.mark(function t(a,n){var r,c,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.authenticated,t.next=3,b.get("/api/plants/".concat(e),{headers:{authorization:r}});case 3:c=t.sent,i=c.data,console.log("data ",i),a({type:"UPDATE_SINGLE_PLANT_VIEW",payload:i});case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}})(I(V)),W=Object(o.e)(g,{auth:{authenticated:localStorage.getItem("token")}},Object(o.a)(u.a));Object(c.render)(r.a.createElement(l.a,{store:W},r.a.createElement(i.a,null,r.a.createElement(function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(S,null),t)},null,r.a.createElement(s.a,{path:"/",exact:!0,component:A}),r.a.createElement(s.a,{path:"/about",exact:!0,component:function(){return r.a.createElement("div",{id:"about",className:"ui container segment"},r.a.createElement("h3",{className:"ui header"},"Big Plant app"),r.a.createElement("div",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quis facere explicabo porro debitis odit, molestiae totam quam delectus adipisci quo fuga repellat, dignissimos atque vero. Voluptate totam suscipit iusto commodi!"))}}),r.a.createElement(s.a,{path:"/signup",exact:!0,component:C}),r.a.createElement(s.a,{path:"/signin",exact:!0,component:M}),r.a.createElement(s.a,{path:"/signout",exact:!0,component:L}),r.a.createElement(s.a,{path:"/plants",exact:!0,component:H}),r.a.createElement(s.a,{path:"/plants/:id",exact:!0,component:q})))),document.querySelector("#root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.edf7b174.chunk.js.map